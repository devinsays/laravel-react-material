(this["webpackJsonplaravel-react-material"]=this["webpackJsonplaravel-react-material"]||[]).push([[0],{125:function(e,t,a){e.exports=a(225)},224:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"login",(function(){return K})),a.d(n,"register",(function(){return q})),a.d(n,"resetPassword",(function(){return $})),a.d(n,"updatePassword",(function(){return Q}));var r=a(0),c=a.n(r),l=a(9),o=a.n(l),i=a(60),s=a(38),u=a(101),m=a(102),d=a(117),h=a(20),f=a(18),p=a(275),b=a(14),E=a(265),v=a(226),g=a(276),O=a(8),j=a(17),w=a(6),y=a(227),A=a(277),S=a(264),C=a(278),k=a(35),x=a.n(k),T=a(66),P=a.n(T),W=a(24),I=a(115),L=a(106),B={id:null,name:null,email:null},H={isAuthenticated:!1,user:B},U=function(e,t){var a=t.access_token,n=t.user;return localStorage.setItem("access_token",a),localStorage.setItem("user",JSON.stringify(n)),J.defaults.headers.common.Authorization="Bearer ".concat(a),Object.assign({},e,{isAuthenticated:!0,user:n})},R=function(e){var t=Object.assign({},e,{isAuthenticated:!!localStorage.getItem("access_token"),user:JSON.parse(localStorage.getItem("user"))});return e.isAuthenticated&&(J.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("access_token"))),t},_=function(e){return localStorage.removeItem("access_token"),localStorage.removeItem("user"),Object.assign({},e,{isAuthenticated:!1,user:B})},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=void 0===n?null:n;switch(a){case"AUTH_LOGIN":return U(e,r);case"AUTH_CHECK":return R(e);case"AUTH_LOGOUT":return _(e);default:return e}};function M(e,t){return Object.assign({},e,t)}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=void 0===n?null:n;switch(a){case"persist/REHYDRATE":return M(e,r);default:return e}},N=Object(W.c)({Auth:F,persistStore:D}),z=Object(W.e)(N,Object(W.d)(Object(W.a)(L.a)));Object(I.a)(z);var G=z;var V=localStorage.getItem("access_token");P.a.defaults.headers.common.Authorization="Bearer ".concat(V),P.a.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&G.dispatch({type:"AUTH_LOGOUT"}),Promise.reject(e)}));var J=P.a,Y="https://todo.valet";function K(e){return function(t){return new Promise((function(a,n){J.post("".concat(Y,"/api/v1/auth/login"),e).then((function(e){return t({type:"AUTH_LOGIN",payload:e.data}),a()})).catch((function(e){var t=e.response.data,a=t.status,r=t.errors;return n({status:a,errors:r||["Unknown error."]})}))}))}}function q(e){return function(t){return new Promise((function(t,a){J.post("".concat(Y,"/api/v1/auth/register"),e).then((function(e){return t(e.data)})).catch((function(e){var t=e.response.data,n=t.status,r=t.errors;return a({status:n,errors:r})}))}))}}function $(e){return function(t){return new Promise((function(t,a){J.post("".concat(Y,"/api/v1/auth/forgot-password"),e).then((function(e){return t(e.data)})).catch((function(e){var t=e.response.data,n=t.status,r=t.errors;return a({status:n,errors:r})}))}))}}function Q(e){return function(t){return new Promise((function(t,a){J.post("".concat(Y,"/api/v1/auth/password-reset"),e).then((function(e){var n=e.data.status.status;if(202===n){var r={error:e.data.message,status:n};return a(r)}return t(e)})).catch((function(e){var t=e.response.data,n=t.status,r=t.errors;return a({status:n,errors:r})}))}))}}var X=n,Z=a(116),ee=function(e){return e.length<3&&"Name must be at least 3 characters."},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!Object(Z.a)(e)&&"The email field must be a valid email."},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length<6&&"The password field must be at least 6 characters."},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.length<6?"The password field must be at least 6 characters.":t!==e&&"Password confirmation does not match password."},re=a(256),ce=a(259),le=Object(re.a)((function(e){return{loader:{color:e.white}}}));function oe(){var e=le();return c.a.createElement(ce.a,{size:24,thickness:4,className:e.loader})}var ie=Object(b.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))((function(e){var t=Object(r.useState)(!1),a=Object(w.a)(t,2),n=a[0],l=a[1],o=Object(r.useState)(),i=Object(w.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)(),d=Object(w.a)(m,2),p=d[0],b=d[1],E=Object(r.useState)({email:!1,password:!1}),k=Object(w.a)(E,2),T=k[0],P=k[1],W=Object(r.useState)({error:!1,message:""}),I=Object(w.a)(W,2),L=I[0],B=I[1],H=function(e){var t=e.target,a=t.name,n=t.value;a in T&&P(Object(j.a)({},T,Object(O.a)({},a,!1))),"email"!==a?"password"!==a||b(n):u(n)},U=function(e){var t=e.target,a=t.name,n=t.value;if(""!==n){var r=!1;"email"===a&&(u(n),r=te(n)),"password"===a&&(b(n),r=ae(n)),!1!==r&&P(Object(j.a)({},T,Object(O.a)({},a,r)))}},R=function(t){console.log(t),e.dispatch(X.login(t)).catch((function(e){var t=Object.values(e.errors);t.join(" "),B({error:!0,message:t}),l(!1),u(""),b("")}))};if(e.isAuthenticated){var _,F=((null===(_=e.location)||void 0===_?void 0:_.state)||{from:{pathname:"/"}}).from;return c.a.createElement(f.a,{to:F})}return c.a.createElement("div",null,c.a.createElement(g.a,{mb:3},c.a.createElement(v.a,{component:"h3",variant:"h3",align:"center"},"Log in to the App")),c.a.createElement(y.a,{elevation:3},c.a.createElement(g.a,{p:4,pb:3},c.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t={email:te(s),password:ae(p)};x()(T,t)?(l(!0),R({email:s,password:p})):P(Object(j.a)({},t))}},L.error&&c.a.createElement(g.a,{mb:2},c.a.createElement(C.a,{severity:"error"},L.message)),c.a.createElement(g.a,{mb:2},c.a.createElement(g.a,{mb:2},c.a.createElement(A.a,{name:"email",label:"Email Address",onChange:H,onBlur:U,disabled:n,variant:"filled",fullWidth:!0,error:!1!==T.email,helperText:T.email})),c.a.createElement(g.a,{mb:2},c.a.createElement(A.a,{name:"password",label:"Password",onChange:H,onBlur:U,disabled:n,variant:"filled",fullWidth:!0,error:!1!==T.password,helperText:T.password,type:"password"}))),c.a.createElement(g.a,{mb:2},c.a.createElement(S.a,{variant:"contained",color:"primary",disabled:n,fullWidth:!0,type:"submit",disableElevation:!0},!n&&c.a.createElement("span",null,"Sign In"),n&&c.a.createElement(oe,null))),c.a.createElement(v.a,{variant:"body2",align:"center"},"Don't have an account? ",c.a.createElement(h.b,{to:"/register"},"Register"),".")))),c.a.createElement(g.a,{mt:4},c.a.createElement(v.a,{align:"center",variant:"body2"},c.a.createElement(h.b,{to:"/forgot-password"},"Forgot Your Password?"))))}));var se=a(19),ue=a(266);var me=a(15),de=a(263),he=a(279),fe=a(262),pe=a(267),be=a(261),Ee=a(268),ve=a(269),ge=a(270),Oe=a(271),je=a(272),we=a(109),ye=a.n(we),Ae=a(110),Se=a.n(Ae);var Ce=Object(b.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))((function(e){var t=Object(r.useState)(!1),a=Object(w.a)(t,2),n=a[0],l=a[1],o=Object(r.useState)(!1),i=Object(w.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)(),d=Object(w.a)(m,2),p=d[0],b=d[1],E=Object(r.useState)(),k=Object(w.a)(E,2),T=k[0],P=k[1],W=Object(r.useState)(""),I=Object(w.a)(W,2),L=I[0],B=I[1],H=Object(r.useState)(""),U=Object(w.a)(H,2),R=U[0],_=U[1],F=Object(r.useState)({name:!1,email:!1,password:!1,passwordConfirm:!1}),M=Object(w.a)(F,2),D=M[0],N=M[1],z=Object(r.useState)({error:!1,message:""}),G=Object(w.a)(z,2),V=G[0],J=G[1],Y=function(e){var t=e.target,a=t.name,n=t.value;a in D&&N(Object(j.a)({},D,Object(O.a)({},a,!1))),"name"!==a?"email"!==a?"password"!==a?"passwordConfirm"!==a||_(n):B(n):P(n):b(n)},K=function(e){var t=e.target,a=t.name,n=t.value;if(""!==n){var r=!1;"name"===a&&(b(n),r=ee(n)),"email"===a&&(P(n),r=te(n)),"password"===a&&(B(n),r=ae(n)),"passwordConfirm"===a&&(_(n),r=ne(n,L)),!1!==r&&N(Object(j.a)({},D,Object(O.a)({},a,r)))}},q=function(t){e.dispatch(X.register(t)).then((function(){l(!1),u(!0)})).catch((function(e){var t=Object.values(e.errors);t.join(" "),J({error:!0,message:t}),l(!1)}))};if(e.isAuthenticated){var $=(e.location.state||{from:{pathname:"/"}}).from;return c.a.createElement(f.a,{to:$})}return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.Helmet,null,c.a.createElement("title",null,"Register | Laravel Material")),c.a.createElement(ue.a,{maxWidth:"sm"},c.a.createElement(g.a,{mb:3},c.a.createElement(v.a,{component:"h3",variant:"h3",align:"center"},"Register for the App")),c.a.createElement(y.a,{elevation:3},c.a.createElement(g.a,{pt:2,pr:4,pb:4,pl:4},s&&c.a.createElement(C.a,{severity:"success"},"Registration successful.",c.a.createElement(h.b,{to:"/",href:"/"},"Please log in with your new email and password.")),!s&&c.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t={name:ee(p),email:te(T),password:ae(L),passwordConfirm:ne(R,L)};x()(D,t)?(l(!0),q({name:p,email:T,password:L,password_confirmation:R})):N(Object(j.a)({},t))}},V.error&&c.a.createElement(C.a,{severity:"error"},V.message),c.a.createElement(g.a,{mb:3}),c.a.createElement(g.a,{mb:2},c.a.createElement(g.a,{mb:2},c.a.createElement(A.a,{name:"name",label:"Full Name",onChange:Y,onBlur:K,disabled:n,variant:"filled",fullWidth:!0,error:!1!==D.name,helperText:D.name})),c.a.createElement(g.a,{mb:2},c.a.createElement(A.a,{name:"email",label:"Email Address",onChange:Y,onBlur:K,disabled:n,variant:"filled",fullWidth:!0,error:!1!==D.email,helperText:D.email})),c.a.createElement(g.a,{mb:2},c.a.createElement(A.a,{name:"password",label:"Password",onChange:Y,onBlur:K,disabled:n,variant:"filled",fullWidth:!0,error:!1!==D.password,helperText:D.password,type:"password"})),c.a.createElement(g.a,{mb:2},c.a.createElement(A.a,{name:"passwordConfirm",label:"Confirm Password",onChange:Y,onBlur:K,disabled:n,variant:"filled",fullWidth:!0,error:!1!==D.passwordConfirm,helperText:D.passwordConfirm,type:"password"}))),c.a.createElement(g.a,{mb:2},c.a.createElement(S.a,{variant:"contained",color:"primary",disabled:n,fullWidth:!0,type:"submit"},!n&&c.a.createElement("span",null,"Register"),n&&c.a.createElement(oe,null))),c.a.createElement(v.a,{variant:"body2",align:"center"},"Already have an account? ",c.a.createElement(h.b,{to:"/login"},"Log in"),"."))))))}));function ke(e){var t=Object(r.useState)(!1),a=Object(w.a)(t,2),n=a[0],l=a[1],o=Object(r.useState)(!1),i=Object(w.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)(),d=Object(w.a)(m,2),h=d[0],f=d[1],p=Object(r.useState)({email:!1}),b=Object(w.a)(p,2),E=b[0],k=b[1],T=Object(r.useState)({error:!1,message:""}),P=Object(w.a)(T,2),W=P[0],I=P[1],L=function(t){e.dispatch(X.resetPassword(t)).then((function(){l(!1),u(!0)})).catch((function(e){var t=Object.values(e.errors);t.join(" "),I({error:!0,message:t}),l(!1)}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.Helmet,null,c.a.createElement("title",null,"Forgot Password | Laravel Material")),c.a.createElement(ue.a,{maxWidth:"sm"},c.a.createElement(v.a,{component:"h3",variant:"h3",align:"center"},"Request Password Reset"),c.a.createElement(y.a,{elevation:3},c.a.createElement(g.a,{p:4,pb:3},s&&c.a.createElement(C.a,{severity:"success"},"A password reset link has been sent!"),!s&&c.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t={email:te(h)};x()(E,t)?(l(!0),L({email:h})):k(Object(j.a)({},t))}},W.error&&c.a.createElement(g.a,{mb:3},c.a.createElement(C.a,{severity:"error"},W.message)),c.a.createElement(g.a,{mb:2},c.a.createElement("div",null,c.a.createElement(A.a,{name:"email",label:"Email Address",onChange:function(e){var t=e.target,a=t.name,n=t.value;a in E&&k(Object(j.a)({},E,Object(O.a)({},a,!1))),"email"===a&&f({value:n})},onBlur:function(e){var t=e.target,a=t.name,n=t.value;if(""!==n){var r=!1;"email"===a&&(f(n),r=te(n)),!1!==r&&k(Object(j.a)({},E,Object(O.a)({},a,r)))}},disabled:n,variant:"filled",fullWidth:!0,error:!1!==E.email,helperText:E.email}))),c.a.createElement(g.a,{mb:2},c.a.createElement(S.a,{variant:"contained",color:"primary",disabled:n,fullWidth:!0,type:"submit"},!n&&c.a.createElement("span",null,"Send Password Reset Email"),n&&c.a.createElement(oe,null))))))))}ke.defaultProps={location:{state:{pathname:"/"}}};var xe=Object(b.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))(ke);function Te(e){var t=Object(r.useState)(!1),a=Object(w.a)(t,2),n=a[0],l=a[1],o=Object(r.useState)(!1),i=Object(w.a)(o,2),s=i[0],u=i[1],m=Object(r.useState)(),d=Object(w.a)(m,2),h=d[0],f=d[1],p=Object(r.useState)(),b=Object(w.a)(p,2),E=b[0],k=b[1],T=Object(r.useState)({password:!1,passwordConfirm:!1}),P=Object(w.a)(T,2),W=P[0],I=P[1],L=Object(r.useState)({error:!1,message:""}),B=Object(w.a)(L,2),H=B[0],U=B[1],R=function(e){var t=e.target,a=t.name,n=t.value;a in W&&I(Object(j.a)({},W,Object(O.a)({},a,!1))),"password"!==a?"passwordConfirm"!==a||k({value:n}):f({value:n})},_=function(e){var t=e.target,a=t.name,n=t.value;if(""!==n){var r=!1;"password"===a&&(f(n),r=ae(n)),"passwordConfirm"===a&&(k(n),!1===(r=ae(n))&&h!==n&&(r="Password confirmation does not match password.")),!1!==r&&I(Object(j.a)({},W,Object(O.a)({},a,r)))}},F=function(){var t=new URLSearchParams(e.location.search);return t.has("id")?t.get("id"):""},M=function(){var t=new URLSearchParams(e.location.search);return t.has("token")?t.get("token"):""},D=function(t){var a=Object(j.a)({id:F(),token:M()},t);e.dispatch(X.updatePassword(a)).then((function(){l(!1),u(!0)})).catch((function(e){var t=Object.values(e.errors);t.join(" "),U({error:!0,message:t}),l(!1)}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.Helmet,null,c.a.createElement("title",null,"Reset Password | Laravel Material")),c.a.createElement(ue.a,{maxWidth:"sm"},c.a.createElement(v.a,{component:"h3",variant:"h3",align:"center"},"Reset Your Password"),c.a.createElement(y.a,{elevation:3},c.a.createElement(g.a,{p:4,pb:3},s&&c.a.createElement(C.a,{severity:"success"},"Your password has been reset!"),!s&&c.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t={password:ae(h),passwordConfirm:ne(E,h)};x()(W,t)?(l(!0),D({password:h,password_confirmation:E})):I(Object(j.a)({},t))}},H.error&&c.a.createElement(C.a,{severity:"error"},H.message),c.a.createElement(g.a,{mb:3}),c.a.createElement(g.a,{mb:2},c.a.createElement("div",null,c.a.createElement(A.a,{name:"password",label:"Password",onChange:R,onBlur:_,disabled:n,variant:"filled",fullWidth:!0,error:!1!==W.email,helperText:W.email,type:"password"})),c.a.createElement("div",null,c.a.createElement(A.a,{name:"passwordConfirm",label:"Confirm Password",onChange:R,onBlur:_,disabled:n,variant:"filled",fullWidth:!0,error:!1!==W.password,helperText:W.password,type:"password"}))),c.a.createElement(g.a,{mb:2},c.a.createElement(S.a,{variant:"contained",color:"primary",disabled:n,fullWidth:!0,type:"submit"},!n&&c.a.createElement("span",null,"Send Password Reset Email"),n&&c.a.createElement(oe,null))))))))}Te.defaultProps={location:{state:{pathname:"/"}}};var Pe=Object(b.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))(Te),We=a(111),Ie=a.n(We);var Le=[{path:"/",exact:!0,auth:!0,component:function(){var e=Object(r.useState)(""),t=Object(w.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(!1),o=Object(w.a)(l,2),i=o[0],s=o[1],u=Object(r.useState)([]),m=Object(w.a)(u,2),d=m[0],f=m[1],p="".concat(Y,"/api/v1/todo");Object(r.useEffect)((function(){J.get("".concat(p,"?status=open")).then((function(e){var t=e.data.data;f(t),s(!1)})).catch((function(){s("Unable to fetch data.")}))}),[p]);var b=function(e){J.post(p,{value:e}).then((function(t){var a=[{id:t.data.id,value:e}].concat(Object(me.a)(d));f(a),n("")})).catch((function(){s("Sorry, there was an error saving your to do.")}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.Helmet,null,c.a.createElement("title",null,"Dashboard | Laravel Material")),c.a.createElement(ue.a,{maxWidth:"md"},c.a.createElement(g.a,{mb:6},c.a.createElement(v.a,{component:"h2",variant:"h3"},"Add a Task"),c.a.createElement("form",{method:"post",onSubmit:function(e){e.preventDefault(),b(a)}},c.a.createElement(de.a,{fullWidth:!0,variant:"filled"},c.a.createElement(he.a,{htmlFor:"add-todo"},"New Task"),c.a.createElement(fe.a,{id:"add-todo",onChange:function(e){var t=e.target.value;n(t)},value:a,endAdornment:c.a.createElement(pe.a,{position:"end"},c.a.createElement(be.a,{"aria-label":"add task",type:"submit"},c.a.createElement(ye.a,null)))})))),i&&c.a.createElement("div",{className:"alert alert-warning",role:"alert"},i),c.a.createElement(g.a,{mb:2},c.a.createElement(E.a,{container:!0,justify:"space-between",alignItems:"center"},c.a.createElement(E.a,{item:!0},c.a.createElement(v.a,{component:"h2",variant:"h3",style:{marginBottom:"0"}},"Open Tasks")),c.a.createElement(E.a,{item:!0},c.a.createElement(h.b,{to:"/archive"},"View Archive")))),c.a.createElement(y.a,null,c.a.createElement(Ee.a,null,c.a.createElement(ve.a,null,c.a.createElement(ge.a,null,c.a.createElement(Oe.a,null,"To Do"),c.a.createElement(Oe.a,{align:"right"},"Action"))),c.a.createElement(je.a,null,d.map((function(e){return c.a.createElement(ge.a,{key:e.id},c.a.createElement(Oe.a,{component:"th",scope:"row"},e.value),c.a.createElement(Oe.a,{align:"right"},c.a.createElement(be.a,{"aria-label":"Close",onClick:function(){return function(e){var t=d;J.patch("".concat(p,"/").concat(e),{status:"closed"}).then((function(){var a=t.filter((function(t){return t.id!==parseInt(e,10)}));f(a)})).catch((function(){s("Sorry, there was an error closing your to do.")}))}(e.id)}},c.a.createElement(Se.a,null))))})))))))},fallback:function(){return c.a.createElement(E.a,{container:!0,spacing:2,justify:"center",alignItems:"center"},c.a.createElement(E.a,{item:!0,xs:12,sm:6},c.a.createElement(v.a,{component:"h2",variant:"h3"},"Example To Do App"),c.a.createElement(g.a,{py:2,pr:4},c.a.createElement(v.a,null,"This headless frontend was built with"," ",c.a.createElement("a",{href:"https://material-ui.com/"},"Material UI")," and scaffolded with"," ",c.a.createElement("a",{href:"https://reactjs.org/docs/create-a-new-react-app.html"},"Create React App"),". The project authenticates and stores data using"," ",c.a.createElement("a",{href:"https://github.com/devinsays/laravel-react-bootstrap"},"an API built in Laravel"),"."),c.a.createElement(v.a,null,c.a.createElement("a",{href:"https://github.com/devinsays/laravel-react-material"},"Source code and documentation on GitHub.")))),c.a.createElement(E.a,{item:!0,xs:12,sm:6},c.a.createElement(ie,null)))}},{path:"/login",exact:!0,auth:!1,component:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.Helmet,null,c.a.createElement("title",null,"Log In | Laravel Material")),c.a.createElement(ue.a,{maxWidth:"sm"},c.a.createElement(ie,null)))}},{path:"/register",exact:!0,auth:!1,component:Ce},{path:"/forgot-password",exact:!0,auth:!1,component:xe},{path:"/reset-password",exact:!0,auth:!1,component:Pe},{path:"/archive",exact:!0,auth:!0,component:function(){var e=Object(r.useState)(!1),t=Object(w.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)({}),o=Object(w.a)(l,2),i=o[0],s=o[1],u=Object(r.useState)(""),m=Object(w.a)(u,2),d=m[0],h=m[1],f=Object(r.useState)(!1),p=Object(w.a)(f,2),b=p[0],E=p[1],O=Object(r.useState)(!1),j=Object(w.a)(O,2),A=j[0],k=j[1],x="".concat(Y,"/api/v1/todo");Object(r.useEffect)((function(){J.get(x).then((function(e){var t=e.data.data,a=e.data.links.next;s(t),h(a),n(!1),k(!1)})).catch((function(){k("Unable to fetch data.")}))}),[x]);var T=Array.from(i);return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.Helmet,null,c.a.createElement("title",null,"Archive | Laravel Material")),c.a.createElement(ue.a,{maxWidth:"md"},A&&c.a.createElement(C.a,{severity:"error"},A),c.a.createElement(v.a,{component:"h2",variant:"h3"},"Archive"),c.a.createElement(g.a,{mb:4},c.a.createElement(y.a,null,c.a.createElement(Ee.a,null,c.a.createElement(ve.a,null,c.a.createElement(ge.a,null,c.a.createElement(Oe.a,null,"Time"),c.a.createElement(Oe.a,null,"To Do"),c.a.createElement(Oe.a,null,"Status"),c.a.createElement(Oe.a,null,"Action"))),c.a.createElement(je.a,null,T.map((function(e){return c.a.createElement(ge.a,{key:e.id},c.a.createElement(Oe.a,{component:"th",scope:"row"},e.created_at),c.a.createElement(Oe.a,null,e.value),c.a.createElement(Oe.a,null,e.status),c.a.createElement(Oe.a,null,c.a.createElement(be.a,{"aria-label":"Close",onClick:function(){return function(e){var t=i;J.delete("".concat(x,"/").concat(e)).then((function(a){if(204===a.status){var n=t.findIndex((function(t){return parseInt(t.id,10)===parseInt(e,10)})),r=[].concat(Object(me.a)(t.slice(0,n)),Object(me.a)(t.slice(n+1)));s(r)}})).catch((function(e){console.log(e)}))}(e.id)}},c.a.createElement(Ie.a,null))))})))))),d&&c.a.createElement(S.a,{variant:"contained",color:"primary",disabled:a,fullWidth:!0,type:"submit",onClick:function(){n(!0),J.get(d).then((function(e){var t=e.data.links.next,a=i.concat(e.data.data);s(a),h(t),n(!1),k(!1),E(!0)})).catch((function(){k("Unable to fetch data.")}))}},!a&&c.a.createElement("span",null,"Load More"),a&&c.a.createElement(oe,null),")}"),null===d&&!0===b&&c.a.createElement(v.a,{variant:"body2",align:"center"},"Everything loaded.")))}},{path:"",exact:!1,auth:!1,component:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.Helmet,null,c.a.createElement("title",null,"404 | Laravel Material")),c.a.createElement(v.a,{component:"h2",variant:"h1",align:"center"},"404"),c.a.createElement(v.a,{align:"center"},"No page found."))}}],Be=a(2),He=a(112),Ue=a.n(He),Re=a(273),_e=a(274),Fe=a(114),Me=a(280);var De=Object(re.a)((function(e){return{title:{flexGrow:1},titleLink:{color:e.white,textDecoration:"none","&:hover":{color:e.white,textDecoration:"none"}}}})),Ne=Object(b.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))((function(e){var t=De(),a=c.a.useState(null),n=Object(w.a)(a,2),r=n[0],l=n[1],o=Boolean(r),i=Object(f.g)();return c.a.createElement(Re.a,{position:"static",elevation:0},c.a.createElement(_e.a,null,c.a.createElement(v.a,{component:"h1",variant:"h6",className:t.title},c.a.createElement(h.b,{to:"/",className:t.titleLink},"Laravel Material")),c.a.createElement("div",null,c.a.createElement(be.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit"},c.a.createElement(Ue.a,null)),c.a.createElement(Fe.a,{id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:function(){l(null)}},!e.isAuthenticated&&c.a.createElement(Me.a,{onClick:function(){l(null),i.push("/login")}},"Log In"),e.isAuthenticated&&c.a.createElement(Me.a,{onClick:function(){l(null),e.dispatch({type:"AUTH_LOGOUT"})}},"Logout")))))})),ze=Object(b.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))((function(e){var t=e.children;return c.a.createElement(E.a,{container:!0,direction:"column",style:{minHeight:"100%"}},c.a.createElement(E.a,{item:!0},c.a.createElement(Ne,null)),c.a.createElement(E.a,{container:!0,justify:"center",alignItems:"center",style:{flexGrow:"1"}},c.a.createElement(ue.a,{maxWidth:"lg"},c.a.createElement(g.a,{px:2,py:4},t))))})),Ge=function(e){var t=e.component,a=Object(Be.a)(e,["component"]);return c.a.createElement(f.b,Object.assign({},a,{render:function(e){return c.a.createElement(ze,null,c.a.createElement(t,e))}}))},Ve=Object(b.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))((function(e){var t=e.component,a=e.isAuthenticated,n=Object(Be.a)(e,["component","isAuthenticated"]);return c.a.createElement(f.b,Object.assign({},n,{render:function(e){return a?c.a.createElement(ze,null,c.a.createElement(t,e)):c.a.createElement(f.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),Je=Object(b.b)((function(e){return{isAuthenticated:e.Auth.isAuthenticated}}))((function(e){var t=e.component,a=e.fallback,n=e.isAuthenticated,r=Object(Be.a)(e,["component","fallback","isAuthenticated"]);return c.a.createElement(f.b,Object.assign({},r,{render:function(e){return n?c.a.createElement(ze,null,c.a.createElement(t,e)):c.a.createElement(ze,null,c.a.createElement(a,e))}}))})),Ye=function(){return c.a.createElement(h.a,null,c.a.createElement(f.d,null,Le.map((function(e){return e.auth&&e.fallback?c.a.createElement(Je,Object.assign({key:e.path},e)):e.auth?c.a.createElement(Ve,Object.assign({key:e.path},e)):c.a.createElement(Ge,Object.assign({key:e.path},e))}))))},Ke=a(113),qe=Object(Ke.a)({text:"#222",white:"#fff",bg1:"#F5F5F6",bg2:"#E1E2E1",palette:{primary:{light:"#80b4ff",main:"#4285f4",dark:"#0059c1",contrastText:"#fff"}},typography:{fontSize:16,h1:{fontSize:"3rem",fontWeight:300},h2:{fontSize:"2.2rem",fontWeight:300},h3:{fontSize:"2rem",fontWeight:300,marginBottom:"1rem"},body1:{marginBottom:"1rem"}},overrides:{MuiMenuItem:{root:{marginBottom:"0"}},MuiInputBase:{root:{marginBottom:"0"}}}}),$e=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(b.a,{store:G},c.a.createElement(p.a,{theme:qe},c.a.createElement(h.a,{basename:"/laravel-react-material"},c.a.createElement(f.d,null,c.a.createElement(Ye,null)))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(224);G.dispatch({type:"AUTH_CHECK"}),o.a.render(c.a.createElement($e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[125,1,2]]]);
//# sourceMappingURL=main.7e938ca5.chunk.js.map